% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/db.R
\name{db_pool_close}
\alias{db_pool_close}
\title{Close Global Database Pool}
\usage{
db_pool_close(session, logger = NULL)
}
\arguments{
\item{session}{Shiny session object. Required to register cleanup handlers for
session shutdown.}

\item{logger}{survey_logger object for tracking cleanup operations.
If NULL, uses warnings for error reporting.}
}
\value{
Invisible NULL
}
\description{
Closes the global database connection pool (app_pool) during application shutdown.
This function handles cleanup of the global pool and registration of cleanup handlers
for Shiny sessions.
}
\details{
The function looks for a global 'app_pool' object and attempts to close it safely.
It includes comprehensive error handling and logging of all cleanup operations.
The cleanup process:
\enumerate{
\item Validates the global pool exists and is valid
\item Closes the pool connection
\item Removes the pool from the global environment
\item Logs all operations and any errors that occur
}
}
\keyword{internal}
