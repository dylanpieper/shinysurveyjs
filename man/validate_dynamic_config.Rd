% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/dynamic_config.R
\name{validate_dynamic_config}
\alias{validate_dynamic_config}
\title{Validate Dynamic Configuration}
\usage{
validate_dynamic_config(
  dynamic_config,
  config_list = NULL,
  survey_logger = NULL
)
}
\arguments{
\item{dynamic_config}{List of configuration entries. Each entry must be a list
containing the following fields:
\itemize{
\item \strong{table_name}: Name of the database table
\item \strong{group_type}: Must be either "choice" or "param"
\item \strong{group_col}: Column name for grouping
\item \strong{parent_table_name}: (Optional) Name of parent table for relationships
\item \strong{parent_id_col}: (Optional) Column name in parent table for relationship
\item \strong{display_col}: (Required for group_type="param") Column name for display
}}

\item{config_list}{Optional list of cached tables to verify table/column existence}

\item{survey_logger}{Logger object for logging validation results and errors}
}
\value{
List with two elements:
\itemize{
\item valid: Logical indicating if the configuration is valid
\item errors: Character vector of error messages (empty if valid)
}
}
\description{
Validates the structure and content of the dynamic configuration list.
Checks that all required fields are present and valid for each configuration entry.
Logs validation results using the provided survey logger.
}
\examples{
\dontrun{
config <- list(
  list(
    table_name = "config_packages",
    group_type = "choice",
    group_col = "package"
  ),
  list(
    table_name = "config_pid",
    group_type = "param",
    group_col = "pid",
    display_col = "full_name"
  )
)

# First cache the tables
config_list <- read_and_cache(db_ops, config)

# Then validate using the cache
result <- validate_dynamic_config(config, config_list, survey_logger)
if (!result$valid) {
  stop(paste(result$errors, collapse = "\n"))
}
}

}
\keyword{internal}
