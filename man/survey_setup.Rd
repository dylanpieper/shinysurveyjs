% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/server_utils.R
\name{survey_setup}
\alias{survey_setup}
\title{Setup Global Survey Environment and Database Connection}
\usage{
survey_setup(db_config, shiny_config = NULL)
}
\arguments{
\item{db_config}{List. Database configuration parameters:
\itemize{
\item \code{host}: Database host address
\item \code{port}: Database port number
\item \code{db_name}: Name of the database
\item \code{user}: Database username
\item \code{password}: Database password
\item \code{write_table}: Table name for write operations
}}

\item{shiny_config}{List. Optional Shiny configuration parameters to pass to
\code{configure_shiny()}. Applied before database initialization.}
}
\value{
Invisibly returns the initialized database pool object
}
\description{
Setup the global survey environment by creating database connections,
environment variables, and a future asynchronous processing plan. Validates
database configuration, sets environment variables if needed, configures Shiny
settings, establishes a database connection pool, and initializes a future plan.
}
\details{
The function:
\itemize{
\item Validates write_table is non-empty
\item Checks required database fields
\item Sets environment variables if missing (HOST, PORT, DB_NAME, USER, PASSWORD)
\item Applies optional Shiny settings
\item Creates global database pool if needed
}

The database pool is stored globally as 'app_pool' and reused if it exists.
Environment variables are only set if not already present.
}
\keyword{internal}
